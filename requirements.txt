# ============================================================
# 规划者-执行者 多Agent系统依赖
# ============================================================
#
# 依赖分类说明:
#   - [core]   核心依赖 - 运行时必需，最小安装
#   - [web]    网页处理 - 知识库抓取、HTML 解析（推荐）
#   - [ml]     可选依赖 - 语义搜索、向量存储（按需）
#   - [dev]    开发依赖 - 代码检查、类型验证
#   - [test]   测试依赖 - 测试框架、Mock 工具
#
# 按需安装方式:
#   pip install -r requirements.txt                         # 全部依赖
#   pip install -r requirements-optional.txt                # 仅可选依赖（ML/浏览器）
#
# 使用 pyproject.toml 分组安装（推荐）:
#   pip install -e .              # 仅核心依赖
#   pip install -e ".[web]"       # 核心 + 网页处理
#   pip install -e ".[ml]"        # 核心 + ML/向量搜索
#   pip install -e ".[dev]"       # 核心 + 开发工具
#   pip install -e ".[test]"      # 核心 + 测试框架
#   pip install -e ".[all]"       # 所有依赖
#
# 可选依赖详见: requirements-optional.txt
# ============================================================

# ============================================================
# [core] 核心运行依赖 - 运行时必需
# ============================================================

# 异步支持
asyncio-pool>=0.6.0
aiofiles>=23.2.1

# 数据模型与验证
pydantic>=2.5.0

# 进程/子进程管理
psutil>=5.9.0

# 日志
loguru>=0.7.2

# 配置管理
python-dotenv>=1.0.0
pyyaml>=6.0.1

# 类型支持
typing-extensions>=4.9.0

# ============================================================
# [web] 网页处理 - 知识库抓取、网页解析
# ============================================================

# HTML 解析与处理
beautifulsoup4>=4.12.0           # HTML 解析
html2text>=2024.1.0              # HTML 转 Markdown
lxml>=5.0.0                      # 高性能 XML/HTML 解析器

# HTTP 客户端
httpx>=0.27.0                    # 异步 HTTP 客户端
websockets>=12.0                 # WebSocket 实时连接支持

# ============================================================
# [ml] 机器学习/向量搜索 - 语义搜索、知识库功能（可选）
# ============================================================
# 注意: 这些是可选依赖，不安装不影响核心功能运行
# 完整的可选依赖列表见: requirements-optional.txt
# 如需 GPU 加速，另需安装 torch: pip install torch

sentence-transformers>=2.2.0     # 文本嵌入向量生成
chromadb>=0.4.0                  # 向量数据库，支持持久化存储
tiktoken>=0.5.0                  # OpenAI 分词器，用于计算 token 数量
hnswlib>=0.7.0                   # 轻量级向量索引库（FAISS 替代）

# ============================================================
# [dev] 开发工具 - 代码质量、类型检查、安全扫描
# ============================================================

pre-commit>=3.5.0                # Git hooks 管理框架
pip-audit>=2.6.0                 # 依赖安全漏洞扫描
mypy>=1.0.0                      # 静态类型检查
ruff>=0.1.0                      # 快速 Python linter
flake8>=6.0.0                    # 代码风格检查

# ============================================================
# [test] 测试框架 - 单元测试、集成测试
# ============================================================

pytest>=7.0.0                    # 测试框架
pytest-asyncio>=0.23.0           # 异步测试支持
pytest-cov>=4.0.0                # 测试覆盖率收集
respx>=0.20.0                    # HTTP mock 测试（配合 httpx）
