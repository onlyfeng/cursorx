---
name: code-review
description: 自动化代码审查。用于审查代码质量、检测潜在问题和安全漏洞。
---

# 代码审查技能 (Code Review Skill)

对代码变更进行全面审查，识别问题并提供改进建议。

## 使用时机

- 审查 PR 或提交的代码变更
- 评估代码质量
- 检查安全漏洞
- 识别性能问题

## 审查流程

### 1. 获取变更信息
```bash
# 查看未提交的变更
git diff

# 查看特定提交的变更
git show <commit-hash>

# 查看 PR 差异
git diff main..HEAD
```

### 2. 分析变更
- 理解变更的目的和范围
- 检查代码逻辑正确性
- 评估代码质量和可读性

### 3. 检查重点

#### 高严重性问题
- 空值/未定义解引用
- 资源泄漏（未关闭的文件或连接）
- SQL/XSS 注入漏洞
- 并发/竞态条件
- 缺少错误处理

#### 中等严重性问题
- 逻辑错误
- 性能反模式
- 代码重复

#### 低严重性问题
- 代码风格不一致
- 缺少注释

### 4. 输出报告

提供结构化的审查报告：
- 问题列表（按严重程度排序）
- 改进建议
- 整体评价

## 示例

审查最近的变更：
```
请审查最近的代码变更，关注安全问题和代码质量。
```
